# **2.1.1. Сщздание и работа с объектами**

> [Index](./0%20Index.md)

https://developer.mozilla.org/ru/docs/Web/JavaScript/Inheritance_and_the_prototype_chain

https://developer.mozilla.org/ru/docs/Web/JavaScript/Data_structures

Да, классы в JavaScript можно считать **синтаксическим сахаром**! Они предоставляют более удобный и структурированный способ для работы с прототипами, упрощая создание объектов и определение их поведения.

### **Что скрывается за классами в JavaScript?**

До появления синтаксиса классов (введён в ES6/ES2015), разработчики использовали прототипы для реализации объектно-ориентированного программирования. Классы в JavaScript на самом деле работают поверх прототипной модели, упрощая её использование.

---

### **Классический способ через прототипы**

**Пример с прототипами:**

```javascript
function Person(name, age) {
  this.name = name;
  this.age = age;
}

Person.prototype.sayHello = function () {
  console.log(`Привет, меня зовут ${this.name}.`);
};

const alice = new Person('Alice', 25);
alice.sayHello(); // Привет, меня зовут Alice.
```

- Здесь создаётся функция-конструктор `Person`, а методы добавляются в её прототип.

---

### **Использование классов**

**Пример с классами:**

```javascript
class Person {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }

  sayHello() {
    console.log(`Привет, меня зовут ${this.name}.`);
  }
}

const alice = new Person('Alice', 25);
alice.sayHello(); // Привет, меня зовут Alice.
```

- Код стал чище и более похож на классы из других языков, таких как Java или Python.
- В действительности, под капотом этот код работает на основе прототипов, как и в первом примере.

---

### **Почему это синтаксический сахар?**

1. **Упрощает работу с прототипами**:

   - Без классов разработчикам приходилось вручную управлять прототипами и конструкторами.
   - Классы делают это автоматически и более интуитивно.

2. **Добавляет ясность**:

   - Синтаксис классов более знаком тем, кто работает с ООП-языками (например, Java, C++, Python).
   - Это улучшает читаемость и поддерживаемость кода.

3. **Не добавляет новых возможностей**:
   - Классы — это просто другой способ работы с тем же прототипным механизмом.
   - Всё, что можно сделать с классами, можно было бы реализовать и через прототипы.

---

### **Особенности классов как синтаксического сахара**

1. **Методы классов добавляются в прототип**:

   ```javascript
   class Example {
     method() {}
   }

   console.log(Example.prototype.method); // Функция
   ```

   Методы не копируются в каждый экземпляр объекта, а хранятся в прототипе.

2. **Классы имеют строгий режим**:

   - Весь код внутри классов работает в **strict mode** автоматически.

3. **Классы не поднимаются (hoisting)**:

   - В отличие от функций, классы нельзя использовать до их объявления.

   ```javascript
   const obj = new MyClass(); // Ошибка: Cannot access 'MyClass' before initialization
   class MyClass {}
   ```

4. **Синтаксис для наследования**:

   - Наследование через `extends` и вызов родительского конструктора с `super` — это удобный сахар для прототипного наследования.

   ```javascript
   class Animal {
     constructor(name) {
       this.name = name;
     }

     speak() {
       console.log(`${this.name} издаёт звук.`);
     }
   }

   class Dog extends Animal {
     speak() {
       console.log(`${this.name} гавкает.`);
     }
   }

   const dog = new Dog('Рекс');
   dog.speak(); // Рекс гавкает.
   ```

   Под капотом это также реализуется через прототипы.

---

### **Преимущества синтаксического сахара классов**

- Читаемый и лаконичный код.
- Легче понять разработчикам, знакомым с ООП.
- Упрощает наследование и работу с прототипами.

---

### **Недостатки классов**

1. **Скрытая реализация**:

   - Новички могут думать, что JavaScript полностью перешёл на классическую модель ООП, хотя он остаётся прототипным языком.

2. **Меньшая гибкость**:
   - Прототипная модель в чистом виде иногда позволяет более динамичные подходы, которые в классах не так очевидны.

---

### **Вывод**

Классы в JavaScript — это мощный синтаксический сахар, который упрощает работу с объектами и наследованием, делая код более читаемым и структурированным. Однако понимание прототипной модели остаётся важным, так как классы лишь облегчают работу с этой основой, а не заменяют её.
